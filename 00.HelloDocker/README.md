# Dockerの基本

Dockerコンテナを起動するまでの手順は

1. Dockerfileの作成
2. Dockerイメージのビルド
3. Dockerコンテナの起動

という手順を踏む必要がある。  

また、出てきた単語の整理をしておくと以下の通りとなる。

- Dockerfile  
    Dockerイメージを構築するための手順を記述したファイル

- Dockerイメージ  
    Dockerコンテナを作成するためのテンプレート  
    **Dockerイメージのビルド**とはDockerfileを用いてDockerイメージを作成することである

## イメージに関する操作

イメージに関する主要な操作を記載する。

- イメージのビルド  

```sh
docker image build -t イメージ名[:タグ名] Dockerfile配置ディレクトリパス
```

-tはタグ付けのオプション。  
ほぼ必須。付けないとイメージ名、タグ名のないイメージが作成される。  

- イメージのタグ付け

```sh
docker image tag 元イメージ名[:タグ名] 新イメージ名[:タグ名]
```

特定のイメージIDを持つDockerイメージを識別しやすくするために利用されている。

- イメージの登録

```sh
docker image push リポジトリ名[:タグ]
```

Docker Hub（Docker社が管理しているDockerレジストリ）へのpushを行う。  
docker loginをしておく必要がある。

```sh
docker image push [push先のレジストリのホスト/]リポジトリ名[:タグ]
```

任意のDockerレジストリにpushする際に上記コマンドを使用する。
タグ付けの時点で[push先のレジストリのホスト/]リポジトリ名[:タグ]としておく必要がある。

## イメージ、コンテナの破棄

イメージ、コンテナは作成後は破棄（prune）しない限り残り続け、ディスク容量を圧迫するので注意。

---
[TOPへ戻る](../README.md)  
